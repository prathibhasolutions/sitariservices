{% extends "admin/change_list.html" %}
{% load i18n %}

{# 
This template overrides the `result_list` block to inject a custom-styled 
button just before the main admin table is rendered.
#}

{% block result_list %}
    {# 1. Add custom CSS styles for the new button #}
    <style>
        .print-button-container {
            padding: 10px 0;
            text-align: right; /* Aligns the button to the right */
            clear: both; /* Ensures it doesn't wrap around other elements */
        }
        .print-button {
            display: inline-block;
            background-color: #007bff; /* A prominent blue color */
            color: white !important;   /* Force white text */
            padding: 8px 15px;
            border-radius: 4px;
            font-weight: 600;
            text-decoration: none;
            transition: background-color 0.2s;
        }
        .print-button:hover {
            background-color: #0056b3; /* A darker blue on hover */
            text-decoration: none;
        }
    </style>

    {# 2. Add the styled button in its own container #}
    <div class="print-button-container">
        <a href="print/?{{ request.GET.urlencode }}" class="print-button" target="_blank">
            Print Filtered List
        </a>
    </div>

    {# 3. Render the original admin table and results #}
    {{ block.super }}
{% endblock %}
